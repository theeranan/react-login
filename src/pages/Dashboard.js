// Import React hooks р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕г state р╣Бр╕ер╕░ lifecycle
import React, { useEffect, useState } from "react";
// Import Material-UI components р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕гр╣Йр╕▓р╕З UI
import { Box, Grid, Paper, Typography, Card, CardContent } from "@mui/material";
// Import icons р╕Ир╕▓р╕Б Material-UI
import PeopleIcon from "@mui/icons-material/People";
import MeetingRoomIcon from "@mui/icons-material/MeetingRoom";
import PaymentIcon from "@mui/icons-material/Payment";
import BuildIcon from "@mui/icons-material/Build";
import WorkIcon from "@mui/icons-material/Work";
import WarningIcon from "@mui/icons-material/Warning";
// Import services р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Б API
import customerService from "../services/customerService";
import roomService from "../services/roomService";
import paymentService from "../services/paymentService";
import repairService from "../services/repairService";
import employeeService from "../services/employeeService";

// Component р╕лр╕ер╕▒р╕Бр╕Вр╕нр╕Зр╕лр╕Щр╣Йр╕▓ Dashboard
export default function Dashboard() {
  // р╕кр╕гр╣Йр╕▓р╕З state р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Бр╣Зр╕Ър╕кр╕Цр╕┤р╕Хр╕┤р╕Хр╣Ир╕▓р╕Зр╣Ж р╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ
  const [stats, setStats] = useState({
    totalCustomers: 0, // р╕Ир╕│р╕Щр╕зр╕Щр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
    totalRooms: 0, // р╕Ир╕│р╕Щр╕зр╕Щр╕лр╣Йр╕нр╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
    availableRooms: 0, // р╕Ир╕│р╕Щр╕зр╕Щр╕лр╣Йр╕нр╕Зр╕зр╣Ир╕▓р╕З
    occupiedRooms: 0, // р╕Ир╕│р╕Щр╕зр╕Щр╕лр╣Йр╕нр╕Зр╕Чр╕╡р╣Ир╕бр╕╡р╕Ьр╕╣р╣Йр╣Ар╕Кр╣Ир╕▓
    totalEmployees: 0, // р╕Ир╕│р╕Щр╕зр╕Щр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
    unpaidPayments: 0, // р╕Ир╕│р╕Щр╕зр╕Щр╕Ър╕┤р╕ер╕Чр╕╡р╣Ир╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Ир╣Ир╕▓р╕в
    pendingRepairs: 0, // р╕Ир╕│р╕Щр╕зр╕Щр╕Зр╕▓р╕Щр╕Лр╣Ир╕нр╕бр╕Чр╕╡р╣Ир╕гр╕нр╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г
  });
  // р╕кр╕гр╣Йр╕▓р╕З state р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕▓р╕гр╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕е
  const [loading, setLoading] = useState(true);

  // useEffect hook р╕Чр╕╡р╣Ир╕Ир╕░р╕Чр╕│р╕Зр╕▓р╕Щр╣Ар╕бр╕╖р╣Ир╕н component р╣Вр╕лр╕ер╕Фр╕Др╕гр╕▒р╣Йр╕Зр╣Бр╕гр╕Б
  useEffect(() => {
    loadDashboardData(); // р╣Ар╕гр╕╡р╕вр╕Бр╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕е
  }, []); // [] р╕лр╕бр╕▓р╕вр╕Цр╕╢р╕Зр╕Чр╕│р╕Зр╕▓р╕Щр╣Ар╕Юр╕╡р╕вр╕Зр╕Др╕гр╕▒р╣Йр╕Зр╣Ар╕Фр╕╡р╕вр╕зр╕Хр╕нр╕Щр╣Вр╕лр╕ер╕Ф component

  // р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ async р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Вр╕нр╕З Dashboard
  const loadDashboardData = async () => {
    try {
      // р╣Гр╕Кр╣Й Promise.all р╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕гр╕╡р╕вр╕Б API р╕лр╕ер╕▓р╕вр╕Хр╕▒р╕зр╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ (parallel) р╣Ар╕Юр╕╖р╣Ир╕нр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕Чр╕╡р╣Ир╕Фр╕╡р╕Вр╕╢р╣Йр╕Щ
      const [
        customersData, // р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Чр╕╡р╣И active
        roomsData, // р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╣Йр╕нр╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
        availableRoomsData, // р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╣Йр╕нр╕Зр╕зр╣Ир╕▓р╕З
        employeesData, // р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕Чр╕╡р╣И active
        unpaidPaymentsData, // р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ър╕┤р╕ер╕Чр╕╡р╣Ир╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Ир╣Ир╕▓р╕в
        pendingRepairsData, // р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Зр╕▓р╕Щр╕Лр╣Ир╕нр╕бр╕Чр╕╡р╣Ир╕гр╕нр╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г
      ] = await Promise.all([
        customerService.getActive(), // р╣Ар╕гр╕╡р╕вр╕Бр╕Фр╕╣р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Чр╕╡р╣И active
        roomService.getAll(), // р╣Ар╕гр╕╡р╕вр╕Бр╕Фр╕╣р╕лр╣Йр╕нр╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
        roomService.getAvailable(), // р╣Ар╕гр╕╡р╕вр╕Бр╕Фр╕╣р╕лр╣Йр╕нр╕Зр╕зр╣Ир╕▓р╕З
        employeeService.getActive(), // р╣Ар╕гр╕╡р╕вр╕Бр╕Фр╕╣р╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕Чр╕╡р╣И active
        paymentService.getUnpaid(), // р╣Ар╕гр╕╡р╕вр╕Бр╕Фр╕╣р╕Ър╕┤р╕ер╕Чр╕╡р╣Ир╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Ир╣Ир╕▓р╕в
        repairService.getPending(), // р╣Ар╕гр╕╡р╕вр╕Бр╕Фр╕╣р╕Зр╕▓р╕Щр╕Лр╣Ир╕нр╕бр╕Чр╕╡р╣Ир╕гр╕нр╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г
      ]);

      // р╕нр╕▒р╕Юр╣Ар╕Фр╕Ч state stats р╕Фр╣Йр╕зр╕вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ъ
      setStats({
        totalCustomers: customersData.length, // р╕Щр╕▒р╕Ър╕Ир╕│р╕Щр╕зр╕Щр╕ер╕╣р╕Бр╕Др╣Йр╕▓
        totalRooms: roomsData.length, // р╕Щр╕▒р╕Ър╕Ир╕│р╕Щр╕зр╕Щр╕лр╣Йр╕нр╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
        availableRooms: availableRoomsData.length, // р╕Щр╕▒р╕Ър╕Ир╕│р╕Щр╕зр╕Щр╕лр╣Йр╕нр╕Зр╕зр╣Ир╕▓р╕З
        occupiedRooms: roomsData.filter((r) => r.Room_Status === "OCCUPIED")
          .length, // р╕Бр╕гр╕нр╕Зр╣Бр╕ер╕░р╕Щр╕▒р╕Ър╕лр╣Йр╕нр╕Зр╕Чр╕╡р╣Ир╕бр╕╡р╕кр╕Цр╕▓р╕Щр╕░ OCCUPIED
        totalEmployees: employeesData.length, // р╕Щр╕▒р╕Ър╕Ир╕│р╕Щр╕зр╕Щр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ
        unpaidPayments: unpaidPaymentsData.length, // р╕Щр╕▒р╕Ър╕Ир╕│р╕Щр╕зр╕Щр╕Ър╕┤р╕ер╕Чр╕╡р╣Ир╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Ир╣Ир╕▓р╕в
        pendingRepairs: pendingRepairsData.length, // р╕Щр╕▒р╕Ър╕Ир╕│р╕Щр╕зр╕Щр╕Зр╕▓р╕Щр╕Лр╣Ир╕нр╕бр╕Чр╕╡р╣Ир╕гр╕нр╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г
      });
    } catch (error) {
      // р╣Бр╕кр╕Фр╕З error р╣Гр╕Щ console р╕лр╕▓р╕Бр╣Ар╕Бр╕┤р╕Фр╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф
      console.error("Error loading dashboard data:", error);
    } finally {
      // р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ loading р╣Ар╕Ыр╣Зр╕Щ false р╣Ар╕бр╕╖р╣Ир╕нр╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕кр╕гр╣Зр╕И (р╣Др╕бр╣Ир╕зр╣Ир╕▓р╕Ир╕░р╕кр╕│р╣Ар╕гр╣Зр╕Ир╕лр╕гр╕╖р╕нр╣Ар╕Бр╕┤р╕Ф error)
      setLoading(false);
    }
  };

  // Component StatCard р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕кр╕Фр╕Зр╕Бр╕▓р╕гр╣Мр╕Фр╕кр╕Цр╕┤р╕Хр╕┤р╣Бр╕Хр╣Ир╕ер╕░р╕нр╕▒р╕Щ
  // р╕гр╕▒р╕Ъ props: title (р╕Кр╕╖р╣Ир╕нр╕Бр╕▓р╕гр╣Мр╕Ф), value (р╕Др╣Ир╕▓р╕Чр╕╡р╣Ир╕Ир╕░р╣Бр╕кр╕Фр╕З), icon (р╣Др╕нр╕Др╕нр╕Щ), color (р╕кр╕╡)
  const StatCard = ({ title, value, icon, color }) => (
    <Card
      sx={{
        height: "100%", // р╣Гр╕лр╣Йр╕Бр╕▓р╕гр╣Мр╕Фр╕бр╕╡р╕Др╕зр╕▓р╕бр╕кр╕╣р╕Зр╣Ар╕Хр╣Зр╕б
        backgroundColor: color, // р╕Хр╕▒р╣Йр╕Зр╕кр╕╡р╕Юр╕╖р╣Йр╕Щр╕лр╕ер╕▒р╕Зр╕Хр╕▓р╕б prop color
        color: "white", // р╕Хр╕▒р╣Йр╕Зр╕кр╕╡р╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕гр╣Ар╕Ыр╣Зр╕Щр╕кр╕╡р╕Вр╕▓р╕з
        transition: "all 0.3s ease", // р╣Гр╕кр╣И transition р╕кр╕│р╕лр╕гр╕▒р╕Ъ animation
        "&:hover": {
          // р╕Бр╕│р╕лр╕Щр╕Фр╕кр╣Др╕Хр╕ер╣Мр╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕бр╕▓р╕кр╣Мр╕Кр╕╡р╣Й
          transform: "translateY(-5px)", // р╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕Бр╕▓р╕гр╣Мр╕Фр╕Вр╕╢р╣Йр╕Щ 5px
          boxShadow: 6, // р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Зр╕▓
        },
      }}
      elevation={3} // р╕гр╕░р╕Фр╕▒р╕Ър╣Ар╕Зр╕▓р╕Вр╕нр╕Зр╕Бр╕▓р╕гр╣Мр╕Ф
    >
      <CardContent sx={{ py: 3 }}>
        {" "}
        {/* р╕Бр╕│р╕лр╕Щр╕Ф padding р╕Ър╕Щр╕ер╣Ир╕▓р╕З */}
        <Box
          sx={{
            display: "flex",
            justifyContent: "space-between",
            alignItems: "center",
          }}
        >
          {" "}
          {/* р╕Ир╕▒р╕Фр╣Ар╕гр╕╡р╕вр╕Зр╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓р╣Бр╕Ър╕Ъ flex */}
          <Box>
            {" "}
            {/* Box р╕Фр╣Йр╕▓р╕Щр╕Лр╣Йр╕▓р╕вр╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б */}
            <Typography
              sx={{
                opacity: 0.9, // р╕Др╕зр╕▓р╕бр╣Вр╕Ыр╕гр╣Ир╕Зр╣Гр╕кр╕Вр╕нр╕Зр╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕г
                fontSize: "0.875rem", // р╕Вр╕Щр╕▓р╕Фр╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕г
                fontWeight: 500, // р╕Др╕зр╕▓р╕бр╕лр╕Щр╕▓р╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕г
                mb: 1, // margin bottom
              }}
            >
              {title} {/* р╣Бр╕кр╕Фр╕Зр╕Кр╕╖р╣Ир╕нр╕Бр╕▓р╕гр╣Мр╕Ф */}
            </Typography>
            <Typography
              variant="h3" // р╕Вр╕Щр╕▓р╕Ф typography р╣Бр╕Ър╕Ъ h3
              component="div"
              sx={{ fontWeight: "bold" }} // р╕Хр╕▒р╕зр╕лр╕Щр╕▓
            >
              {value} {/* р╣Бр╕кр╕Фр╕Зр╕Др╣Ир╕▓р╕кр╕Цр╕┤р╕Хр╕┤ */}
            </Typography>
          </Box>
          <Box
            sx={{
              backgroundColor: "rgba(255, 255, 255, 0.2)", // р╕кр╕╡р╕Юр╕╖р╣Йр╕Щр╕лр╕ер╕▒р╕Зр╣Вр╕Ыр╕гр╣Ир╕Зр╣Бр╕кр╕З
              borderRadius: "50%", // р╕Чр╕│р╣Гр╕лр╣Йр╣Ар╕Ыр╣Зр╕Щр╕зр╕Зр╕Бр╕ер╕б
              width: 70, // р╕Бр╕зр╣Йр╕▓р╕З 70px
              height: 70, // р╕кр╕╣р╕З 70px
              display: "flex", // р╣Гр╕Кр╣Й flexbox
              alignItems: "center", // р╕Ир╕▒р╕Фр╕Бр╕ер╕▓р╕Зр╣Бр╕Щр╕зр╕Хр╕▒р╣Йр╕З
              justifyContent: "center", // р╕Ир╕▒р╕Фр╕Бр╕ер╕▓р╕Зр╣Бр╕Щр╕зр╕Щр╕нр╕Щ
              backdropFilter: "blur(10px)", // р╣Гр╕кр╣Ир╣Ар╕нр╕Яр╣Ар╕Яр╕Бр╕Хр╣М blur
            }}
          >
            {React.cloneElement(icon, { sx: { fontSize: 35 } })}{" "}
            {/* р╣Бр╕кр╕Фр╕Зр╣Др╕нр╕Др╕нр╕Щр╣Бр╕ер╕░р╕Бр╕│р╕лр╕Щр╕Фр╕Вр╕Щр╕▓р╕Фр╣Ар╕Ыр╣Зр╕Щ 35 */}
          </Box>
        </Box>
      </CardContent>
    </Card>
  );

  // р╣Бр╕кр╕Фр╕Зр╕лр╕Щр╣Йр╕▓р╕Ир╕нр╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Цр╣Йр╕▓ loading р╣Ар╕Ыр╣Зр╕Щ true
  if (loading) {
    return (
      <Box
        sx={{
          display: "flex",
          justifyContent: "center",
          alignItems: "center",
          height: "80vh",
        }}
      >
        {" "}
        {/* р╕Ир╕▒р╕Фр╕Бр╕ер╕▓р╕Зр╕лр╕Щр╣Йр╕▓р╕Ир╕н */}
        <Typography variant="h5">р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕е...</Typography>{" "}
        {/* р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Ф */}
      </Box>
    );
  }

  // р╣Бр╕кр╕Фр╕Зр╕лр╕Щр╣Йр╕▓ Dashboard р╕лр╕ер╕▒р╕Б
  return (
    <Box>
      {/* р╕кр╣Ир╕зр╕Щр╕лр╕▒р╕зр╕Вр╕нр╕Зр╕лр╕Щр╣Йр╕▓ Dashboard */}
      <Box sx={{ mb: 4 }}>
        {" "}
        {/* margin bottom 4 */}
        <Typography variant="h4" fontWeight="bold" gutterBottom>
          ЁЯУК Dashboard {/* р╕лр╕▒р╕зр╕Вр╣Йр╕нр╕лр╕ер╕▒р╕Б */}
        </Typography>
        <Typography variant="body1" color="text.secondary">
          р╕ар╕▓р╕Юр╕гр╕зр╕бр╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕лр╕нр╕Юр╕▒р╕Б - р╕нр╕▒р╕Юр╣Ар╕Фр╕Чр╣Бр╕Ър╕Ър╣Ар╕гр╕╡р╕вр╕ер╣Др╕Чр╕бр╣М {/* р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в */}
        </Typography>
      </Box>

      {/* Grid container р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕кр╕Фр╕Зр╕Бр╕▓р╕гр╣Мр╕Фр╕кр╕Цр╕┤р╕Хр╕┤р╕Хр╣Ир╕▓р╕Зр╣Ж */}
      <Grid container spacing={3}>
        {" "}
        {/* р╕гр╕░р╕вр╕░р╕лр╣Ир╕▓р╕Зр╕гр╕░р╕лр╕зр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╣Мр╕Ф 3 */}
        {/* р╕Бр╕▓р╕гр╣Мр╕Фр╣Бр╕кр╕Фр╕Зр╕Ир╕│р╕Щр╕зр╕Щр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф */}
        <Grid item xs={12} sm={6} md={4} lg={3}>
          {" "}
          {/* responsive: р╕бр╕╖р╕нр╕Цр╕╖р╕н full width, tablet р╕Др╕гр╕╢р╣Ир╕З, desktop 1/3, large 1/4 */}
          <StatCard
            title="р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф"
            value={stats.totalCustomers}
            icon={<PeopleIcon />}
            color="#667eea"
          />
        </Grid>
        {/* р╕Бр╕▓р╕гр╣Мр╕Фр╣Бр╕кр╕Фр╕Зр╕Ир╕│р╕Щр╕зр╕Щр╕лр╣Йр╕нр╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф */}
        <Grid item xs={12} sm={6} md={4} lg={3}>
          <StatCard
            title="р╕лр╣Йр╕нр╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф"
            value={stats.totalRooms}
            icon={<MeetingRoomIcon />}
            color="#2e7d32"
          />
        </Grid>
        {/* р╕Бр╕▓р╕гр╣Мр╕Фр╣Бр╕кр╕Фр╕Зр╕Ир╕│р╕Щр╕зр╕Щр╕лр╣Йр╕нр╕Зр╕зр╣Ир╕▓р╕З */}
        <Grid item xs={12} sm={6} md={4} lg={3}>
          <StatCard
            title="р╕лр╣Йр╕нр╕Зр╕зр╣Ир╕▓р╕З"
            value={stats.availableRooms}
            icon={<MeetingRoomIcon />}
            color="#f093fb"
          />
        </Grid>
        {/* р╕Бр╕▓р╕гр╣Мр╕Фр╣Бр╕кр╕Фр╕Зр╕Ир╕│р╕Щр╕зр╕Щр╕лр╣Йр╕нр╕Зр╕Чр╕╡р╣Ир╕бр╕╡р╕Ьр╕╣р╣Йр╣Ар╕Кр╣Ир╕▓ */}
        <Grid item xs={12} sm={6} md={4} lg={3}>
          <StatCard
            title="р╕лр╣Йр╕нр╕Зр╕Чр╕╡р╣Ир╕бр╕╡р╕Ьр╕╣р╣Йр╣Ар╕Кр╣Ир╕▓"
            value={stats.occupiedRooms}
            icon={<MeetingRoomIcon />}
            color="#4facfe"
          />
        </Grid>
        {/* р╕Бр╕▓р╕гр╣Мр╕Фр╣Бр╕кр╕Фр╕Зр╕Ир╕│р╕Щр╕зр╕Щр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф */}
        <Grid item xs={12} sm={6} md={4} lg={3}>
          <StatCard
            title="р╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф"
            value={stats.totalEmployees}
            icon={<WorkIcon />}
            color="#a8edea"
          />
        </Grid>
        {/* р╕Бр╕▓р╕гр╣Мр╕Фр╣Бр╕кр╕Фр╕Зр╕Ир╕│р╕Щр╕зр╕Щр╕Ър╕┤р╕ер╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Ир╣Ир╕▓р╕в */}
        <Grid item xs={12} sm={6} md={4} lg={3}>
          <StatCard
            title="р╕Ър╕┤р╕ер╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Ир╣Ир╕▓р╕в"
            value={stats.unpaidPayments}
            icon={<PaymentIcon />}
            color="#ff9a9e"
          />
        </Grid>
        {/* р╕Бр╕▓р╕гр╣Мр╕Фр╣Бр╕кр╕Фр╕Зр╕Ир╕│р╕Щр╕зр╕Щр╕Зр╕▓р╕Щр╕Лр╣Ир╕нр╕бр╕Чр╕╡р╣Ир╕гр╕нр╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г */}
        <Grid item xs={12} sm={6} md={4} lg={3}>
          <StatCard
            title="р╕гр╕нр╕Лр╣Ир╕нр╕б"
            value={stats.pendingRepairs}
            icon={<WarningIcon />}
            color="#ffecd2"
          />
        </Grid>
      </Grid>

      {/* р╕кр╣Ир╕зр╕Щр╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕бр╕Фр╣Йр╕▓р╕Щр╕ер╣Ир╕▓р╕З */}
      <Box sx={{ mt: 5 }}>
        {" "}
        {/* margin top 5 */}
        <Grid container spacing={3}>
          {/* Panel р╕Фр╣Йр╕▓р╕Щр╕Лр╣Йр╕▓р╕в: р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Хр╣Йр╕нр╕Щр╕гр╕▒р╕Ъ */}
          <Grid item xs={12} md={8}>
            {" "}
            {/* р╕бр╕╖р╕нр╕Цр╕╖р╕н full width, desktop 2/3 */}
            <Paper
              sx={{
                p: 4, // padding 4
                backgroundColor: "#667eea", // р╕кр╕╡р╕бр╣Ир╕зр╕Зр╕Щр╣Йр╕│р╣Ар╕Зр╕┤р╕Щ
                color: "white", // р╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕гр╕кр╕╡р╕Вр╕▓р╕з
                borderRadius: 3, // р╕бр╕╕р╕бр╣Вр╕Др╣Йр╕З
              }}
              elevation={3} // р╕гр╕░р╕Фр╕▒р╕Ър╣Ар╕Зр╕▓
            >
              <Typography variant="h5" fontWeight="bold" gutterBottom>
                ЁЯПв р╕вр╕┤р╕Щр╕Фр╕╡р╕Хр╣Йр╕нр╕Щр╕гр╕▒р╕Ър╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕лр╕нр╕Юр╕▒р╕Б {/* р╕лр╕▒р╕зр╕Вр╣Йр╕н */}
              </Typography>
              <Typography variant="body1" sx={{ opacity: 0.9, mt: 2 }}>
                {" "}
                {/* р╕Др╕зр╕▓р╕бр╣Вр╕Ыр╕гр╣Ир╕Зр╣Гр╕к 0.9, margin top 2 */}
                р╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕лр╕нр╕Юр╕▒р╕Бр╕Др╕гр╕Ър╕зр╕Зр╕Ир╕г р╕Юр╕гр╣Йр╕нр╕бр╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕ер╕╣р╕Бр╕Др╣Йр╕▓ р╕лр╣Йр╕нр╕Зр╕Юр╕▒р╕Б
                р╕Бр╕▓р╕гр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ р╣Бр╕ер╕░р╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╕Лр╣Ир╕нр╕б
                р╣Ар╕ер╕╖р╕нр╕Бр╣Ар╕бр╕Щр╕╣р╕Фр╣Йр╕▓р╕Щр╕Лр╣Йр╕▓р╕вр╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ {/* р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕нр╕Шр╕┤р╕Ър╕▓р╕в */}
              </Typography>
            </Paper>
          </Grid>
          {/* Panel р╕Фр╣Йр╕▓р╕Щр╕Вр╕зр╕▓: р╕кр╕Цр╕┤р╕Хр╕┤р╕Фр╣Ир╕зр╕Щ */}
          <Grid item xs={12} md={4}>
            {" "}
            {/* р╕бр╕╖р╕нр╕Цр╕╖р╕н full width, desktop 1/3 */}
            <Paper
              sx={{
                p: 4, // padding 4
                borderRadius: 3, // р╕бр╕╕р╕бр╣Вр╕Др╣Йр╕З
                backgroundColor: "#f093fb", // р╕кр╕╡р╕Кр╕бр╕Юр╕╣
                color: "white", // р╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕гр╕кр╕╡р╕Вр╕▓р╕з
              }}
              elevation={3} // р╕гр╕░р╕Фр╕▒р╕Ър╣Ар╕Зр╕▓
            >
              <Typography variant="h6" fontWeight="bold" gutterBottom>
                тЪб р╕кр╕Цр╕┤р╕Хр╕┤р╕Фр╣Ир╕зр╕Щ {/* р╕лр╕▒р╕зр╕Вр╣Йр╕н */}
              </Typography>
              <Box sx={{ mt: 2 }}>
                {" "}
                {/* margin top 2 */}
                {/* р╕Др╕│р╕Щр╕зр╕Ур╣Бр╕ер╕░р╣Бр╕кр╕Фр╕Зр╕нр╕▒р╕Хр╕гр╕▓р╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Юр╕▒р╕Б р╣Ар╕Ыр╣Зр╕Щр╣Ар╕Ыр╕нр╕гр╣Мр╣Ар╕Лр╣Зр╕Щр╕Хр╣М */}
                <Typography variant="body2" sx={{ mb: 1, opacity: 0.9 }}>
                  тАв р╕нр╕▒р╕Хр╕гр╕▓р╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Юр╕▒р╕Б:{" "}
                  {stats.totalRooms > 0
                    ? Math.round((stats.occupiedRooms / stats.totalRooms) * 100)
                    : 0}
                  %
                </Typography>
                {/* р╣Бр╕кр╕Фр╕Зр╕Ир╕│р╕Щр╕зр╕Щр╕Ър╕┤р╕ер╕Др╣Йр╕▓р╕Зр╕Кр╕│р╕гр╕░ */}
                <Typography variant="body2" sx={{ mb: 1, opacity: 0.9 }}>
                  тАв р╕Ър╕┤р╕ер╕Др╣Йр╕▓р╕Зр╕Кр╕│р╕гр╕░: {stats.unpaidPayments} р╕гр╕▓р╕вр╕Бр╕▓р╕г
                </Typography>
                {/* р╣Бр╕кр╕Фр╕Зр╕Ир╕│р╕Щр╕зр╕Щр╕Зр╕▓р╕Щр╕Лр╣Ир╕нр╕бр╕гр╕нр╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г */}
                <Typography variant="body2" sx={{ opacity: 0.9 }}>
                  тАв р╕Зр╕▓р╕Щр╕Лр╣Ир╕нр╕бр╕гр╕нр╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г: {stats.pendingRepairs} р╕Зр╕▓р╕Щ
                </Typography>
              </Box>
            </Paper>
          </Grid>
        </Grid>
      </Box>
    </Box>
  );
}
